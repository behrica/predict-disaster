schema: '2.0'
stages:
  train:
    cmd: python train.py
    deps:
    - path: test.arrow
      md5: 031bae7ae481e61a6382731f6eee15d8
      size: 386762
    - path: train.arrow
      md5: f48e939ff4f256704fdce165684ca2a3
      size: 890338
    - path: train.py
      md5: 14e8828178e50c6707e6f2b9896f8259
      size: 790
    params:
      params.yaml:
        train.model_name: prajjwal1/bert-tiny
        train.model_type: bert
        train.num_train_epochs: 5
        train.train_batch_size: 16
    outs:
    - path: eval.json
      md5: 33b86f0da7dc89fb1014864cea8c34b0
      size: 38
    - path: outputs
      md5: 9d4c2bcfac4132127201c02ed1a43c25.dir
      size: 286636334
      nfiles: 59
  preprcess:
    cmd: clj preprocess.clj
    outs:
    - path: test.arrow
      md5: 9ec7b20767104d5e5163dd1b0b9c8d3a
      size: 249602
    - path: train.arrow
      md5: d927714523a1e5bd60c8940199158497
      size: 578642
  preprocess:
    cmd: clj preprocess.clj
    deps:
    - path: preprocess.clj
      md5: 158c8f9e5edb0b6a73b086af0072fe49
      size: 927
    - path: test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: train.csv
      md5: f147942c91d00d754503775341d13682
      size: 987712
    outs:
    - path: test.arrow
      md5: 031bae7ae481e61a6382731f6eee15d8
      size: 386762
    - path: train.arrow
      md5: f48e939ff4f256704fdce165684ca2a3
      size: 890338
  predict_kaggle:
    cmd: python -c 'from clojurebridge import cljbridge;cljbridge.load_clojure_file(clj_file="predict_kaggle.clj",mvn_local_repo="/home/carsten/.m2/repository")'
    deps:
    - path: outputs
      md5: 9d4c2bcfac4132127201c02ed1a43c25.dir
      size: 286636334
      nfiles: 59
    - path: predict_kaggle.clj
      md5: 64c9366e4b753557a5c98bc060e10895
      size: 1504
    outs:
    - path: kaggle_submission.csv
      md5: 0e6046b252c7f8d7fc7a1260c4e9e7e3
      size: 22746
